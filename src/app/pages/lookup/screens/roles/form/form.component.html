<div class="container">
  <div class="row">
    <div class="col-md-12">
      <!-- Tabs -->
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">
            {{ 'roleInfoTab' | translate }}
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="dropdown-tab" data-bs-toggle="tab" href="#dropdown" role="tab" aria-controls="dropdown" aria-selected="false">
            {{ 'selectPagesTab' | translate }}
          </a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <!-- Role Info Tab -->
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
          <form [formGroup]="roleForm">
            <div class="row">
              <div class="col-md-6">
                <label for="name">
                  {{ 'roleName' | translate }}: <span class="text-danger">*</span>
                </label>
                <input type="text" id="name" formControlName="name" class="form-control"
                  [class.is-invalid]="name?.invalid && (name?.dirty || name?.touched)">
                <div>
                  <small class="text-danger" *ngIf="name?.hasError('required') && (name?.dirty || name?.touched)">
                    {{ 'roleNameRequired' | translate }}
                  </small>
                  <small class="text-danger" *ngIf="name?.hasError('minlength') && (name?.dirty || name?.touched)">
                    {{ 'roleNameMinlength' | translate }}
                  </small>
                </div>
              </div>
              <div class="col-md-6">
                <label for="roleCode">
                  {{ 'roleCode' | translate }}: <span class="text-danger">*</span>
                </label>
                <input type="text" id="roleCode" formControlName="roleCode" class="form-control"
                  [class.is-invalid]="roleCode?.invalid && (roleCode?.dirty || roleCode?.touched)">
                <div>
                  <small class="text-danger" *ngIf="roleCode?.hasError('required') && (roleCode?.dirty || roleCode?.touched)">
                    {{ 'roleCodeRequired' | translate }}
                  </small>
                  <small class="text-danger" *ngIf="roleCode?.hasError('pattern') && (roleCode?.dirty || roleCode?.touched)">
                    {{ 'roleCodePattern' | translate }}
                  </small>
                </div>
              </div>
              <div class="row">
                <input type="hidden" formControlName="id">
              </div>
            </div>
          </form>
        </div>
        <!-- Select Pages Tab -->
        <div class="tab-pane fade" id="dropdown" role="tabpanel" aria-labelledby="dropdown-tab">
          <form [formGroup]="roleForm">
            <div class="row">
              <div class="col-md-12">
                <label for="SelectedPageIds">
                  {{ 'selectPages' | translate }}: <span class="text-danger">*</span>
                </label>
                <select id="SelectedPageIds" formControlName="SelectedPageIds" class="form-control" multiple>
                  <option *ngFor="let option of dropdownOptions" [value]="option.value">
                    {{ option.label | translate }}
                  </option>
                </select>
                
                <div>
                  <small class="text-danger" *ngIf="SelectedPageIds?.hasError('required') && (SelectedPageIds?.dirty || SelectedPageIds?.touched)">
                    {{ 'selectionRequired' | translate }}
                  </small>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-12 text-end">
          <button type="button" class="btn btn-primary m-2" (click)="save()">
            {{ 'save' | translate }}
          </button>
          <button type="button" class="btn btn-danger m-2" (click)="cancel()">
            {{ 'cancel' | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
